<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Bootstrap 3, from LayoutIt!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

	<!--link rel="stylesheet/less" href="less/bootstrap.less" type="text/css" /-->
	<!--link rel="stylesheet/less" href="less/responsive.less" type="text/css" /-->
	<!--script src="js/less-1.3.3.min.js"></script-->
	<!--append ‘#!watch’ to the browser URL, then refresh the page. -->
	
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
  <![endif]-->

  <!-- Fav and touch icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" href="img/apple-touch-icon-57-precomposed.png">
  <link rel="shortcut icon" href="img/favicon.png">
	
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.19/angular.min.js"></script>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/scripts.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <script type="text/javascript" src="js/services.js"></script>
    <script type="text/javascript" src="/bower_components/angular-socket-io/socket.js"></script>
	
	<script type="text/javascript">
						var text = '{ "threads" : [' +
							'{ "locationX":52.4, "locationX":60.3, "timestamp":802.11,' +
								' "entries" : [' +
									'{"message":"How is everyone?", "name":"sk8trkd"},' +
									'{"message":"Good, thanks, and you?", "name":"mollyJane"},' +
									'{"message":"Splendiferous", "name":"sk8trkd"},' +
									'{"message":"Has anyone seen my puppy", "name":"Mary-Lou"},' +
									'{"message":"No...and technically speaking, you should have started that in a new message board", "name":"sk8trkd"},' +
									'{"message":"Why?", "name":"Mary-Lou"},' +
									'{"message":"Just to keep things organized", "name":"sk8trkd"},' +
									'{"message":"Yeah, I have your cat, kid, and might give him back for a ransom", "name":"black-van"},' +
									'{"message":"Oh no!", "name":"Mary-Lou"},' +
									'{"message":"We gotta find this loser", "name":"sk8trkd"},' +
									'{"message":"Well he has to be within a three-block radius", "name":"mollyJane"}' +
								']' +
							'},' +
							'{ "locationX":52.4, "locationX":60.3, "timestamp":802.11,' +
								' "entries" : [' +
									'{"message":"How about a test?", "name":"sk8trkd"}' +
								']' +
							'},' +
							'{ "locationX":52.4, "locationX":60.3, "timestamp":802.11,' +
								' "entries" : [' +
									'{"message":"Test again", "name":"sk8trkd"}' +
								']' +
							'},' +
							'{ "locationX":52.4, "locationX":60.3, "timestamp":802.11,' +
								' "entries" : [' +
									'{"message":"So I want one that has a whole lot of text so I can test how well it all fits within the neccesary boundaries. This should push me over the edge and into tomorrow", "name":"Samson McGilligan"}' +
								']' +
							'},' +
							'{ "locationX":52.4, "locationX":60.3, "timestamp":802.11,' +
								' "entries" : [' +
									'{"message":"Just want to make sure everything works right", "name":"sk8trkd"}' +
								']' +
							'},' +
							'{ "locationX":52.4, "locationX":60.3, "timestamp":802.11,' +
								' "entries" : [' +
									'{"message":"See anything good lately?", "name":"sk8trkd"}' +
								']' +
							'},' +
							'{ "locationX":52.4, "locationX":60.3, "timestamp":802.11,' +
								' "entries" : [' +
									'{"message":"Read anything good lately?", "name":"sk8trkd"}' +
								']' +
							'},' +
							'{ "locationX":52.4, "locationX":60.3, "timestamp":802.11,' +
								' "entries" : [' +
									'{"message":"How about a game of go fish?", "name":"sk8trkd"}' +
								']' +
							'},' +
							'{ "locationX":52.4, "locationX":60.3, "timestamp":802.11,' +
								' "entries" : [' +
									'{"message":"Pretty quiet neighborhood", "name":"sk8trkd"}' +
								']' +
							'},' +
							'{ "locationX":52.4, "locationX":60.3, "timestamp":802.11,' +
								' "entries" : [' +
									'{"message":"Seriously, is no one else here?", "name":"sk8trkd"}' +
								']' +
							'},' +
							'{ "locationX":52.4, "locationX":60.3, "timestamp":802.11,' +
								' "entries" : [' +
									'{"message":"*cricket chirps*", "name":"sk8trkd"}' +
								']' +
							'},' +
							'{ "locationX":52.4, "locationX":60.3, "timestamp":802.11,' +
								' "entries" : [' +
									'{"message":"Almost done with these test cases", "name":"sk8trkd"}' +
								']' +
							'},' +
							'{ "locationX":52.4, "locationX":60.3, "timestamp":802.11,' +
								' "entries" : [' +
									'{"message":"One more, you think?", "name":"sk8trkd"}' +
								']' +
							'},' +
							'{ "locationX":52.4, "locationX":60.3, "timestamp":802.11,' +
								' "entries" : [' +
									'{"message":"Yeah, this will be the end", "name":"sk8trkd"}' +
								']' +
							'}' +
						']}';
			var jsonObject = JSON.parse(text);
	
	
        function addTable() {

            var myTableDiv = document.getElementById("MessageBoardTable")
            var table = document.createElement('TABLE')
            var tableBody = document.createElement('TBODY')

            
            table.appendChild(tableBody);			
			

            //TABLE ROWS
			var i = 0;
            while (i < jsonObject.threads.length) 
			{
				var tr = document.createElement('TR');
				for(var j = 0; j < 3; j++)
				{
					var td = document.createElement('TD')
					td.id = i;
					
					var pMessage = document.createElement("p");
					var divMessage = document.createElement("div");
					var divUsername = document.createElement("div");
					var message = document.createElement('message')
					var username = document.createElement('username')
					var messageToDisplay = jsonObject.threads[i].entries[0].message;
					if(messageToDisplay.length > 120)
					{
						messageToDisplay = messageToDisplay.substring(0, 117);
						messageToDisplay += "...";
					}
					message.appendChild(document.createTextNode(messageToDisplay));
					username.appendChild(document.createTextNode("--" + jsonObject.threads[i].entries[0].name));
					pMessage.appendChild(message);
					divMessage.appendChild(pMessage);
					divUsername.appendChild(username);
					td.width = '205';
					td.height = '200';
					td.appendChild(divMessage);
					td.appendChild(divUsername);
					
					td.onclick = function()
									{ 		
										var focusText = "<b>";
										focusText += jsonObject.threads[this.id].entries[0].message
										focusText += "<br> --";
										focusText += jsonObject.threads[this.id].entries[0].name;
										focusText += "</b><ul><br>";
										var index = 1;
										while(index < jsonObject.threads[this.id].entries.length)
										{
											focusText += "<li>";
											focusText += jsonObject.threads[this.id].entries[index].message;
											focusText += "<br>-- ";
											focusText += jsonObject.threads[this.id].entries[index].name;
											focusText += "</li>";
											index++;
										}
										focusText +="</ul>";
										
										document.getElementById("focusBoard").innerHTML = focusText;
									};
					tr.appendChild(td)
					i++;
					if(i == jsonObject.threads.length)
						j = 3;
				}
				tableBody.appendChild(tr);
			}
			
			<!--After design, have code to populate the posts with filler data...Angular-->
			<!--Then make it so that this updates the comments when you click on the post...Angular-->
			<!--Add interaction with Server-->
			<!--Get data directly from Server-->
            myTableDiv.appendChild(table)
        }
    </script>
	<style>
	body  
	{
		background-image: url("img/corkboard-background+55.png");
	}
	
	td
	{
		background-image: url("img/post_it.png");
		background-size: 200px 200px;
		background-repeat: no-repeat;
	}
	message
	{
		font-size: 14px;
		font-weight: bold;
	}
	username
	{
		padding-left: 40px;
		font-size: 14px;
		font-weight: bold;
	}
	p
	{
		padding-left:20px;
		padding-right:20px;
		padding-top:20px;
	}
	#focusBoard
	{
		background-image: url("img/chatBackground.png");
		padding-left: 10px;
		padding-top: 5px;
	}
	
	</style>
	<style type="text/css">
      #map-canvas { height: 200px; width: 360px; margin: 0; padding: 0;}
    </style>
	<script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDV8qVb-dG-Ct4bVbdw8-Cq4_Ax2UTxo1w">
    </script>
	<script type="text/javascript">
      function initialize() {
        var mapOptions = {
          center: { lat: 40.2513513, lng: -111.6608},
          zoom: 13
        };
        var map = new google.maps.Map(document.getElementById('map-canvas'),
            mapOptions);
      }
      google.maps.event.addDomListener(window, 'load', initialize);
    </script>
	
	
</head>

<body onload="addTable()">
<div class="container">
	<div class="row clearfix">
		<div class="col-md-12 column">
			<h1 id="productName">
				neighbr
			</h1>
			<div class="row clearfix">
				<div class="col-md-8 column">
					<div>
						<h3>
							Message Board
							<!--<button  type="button" class="btn btn-primary">Click to Refresh</button>-->
							<sp style="padding-left:425px"></sp>
							<button type="button" class="btn btn-success">Create New Thread</button>
						</h3> 
					</div>
					<div id="MessageBoardTable" style="overflow-y:scroll; height:451px;"></div>
				</div>
				<div class="col-md-4 column">
					<h3>
						Current Thread
					</h3>
					<div id="focusBoard" style="overflow-y:scroll; height:210px;">
						<b>Hey guys, did anyone see a red jeep drive by with a dealer's plate?<br> --Sally McField</b>
						<ul>
							<br>
							<li>
								I just saw it! Looked like drunk driving, weaving and bobbing all over!<br> -- Jane down the street
							</li>
							<li>
								What is it? Some crazy psycho?!<br> --sk8trkid
							</li>
							<li>
								No, my four year old!<br> --Sally McField
							</li>
						</ul>
					</div>
					<div style="padding-top:5px; padding-bottom:10px">
						<input id="comment" style="height:32px; width:287px;">
						<button type="submit" class="btn btn-success">Submit</button>
					</div>
					<div id="map-canvas"></div>
					<div class="row clearfix">
						<div class="col-md-12 column">
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</body>
</html>
